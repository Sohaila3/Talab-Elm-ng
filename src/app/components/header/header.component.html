<header class="header">
  <div class="header-left">
    <!-- Logo -->
    <a routerLink="/" class="logo-link">
      <img src="assets/logo.png" alt="Logo" class="header-logo">
    </a>

    <div class="courses-dropdown">
      <!-- Breadcrumbs: show when headerService provides them, otherwise show default button -->
      <ng-container *ngIf="breadcrumbs && breadcrumbs.length; else defaultCoursesBtn">
        <nav class="breadcrumbs" aria-label="breadcrumb">
          <ul>
            <li *ngFor="let b of breadcrumbs; let last = last" [class.active]="last">
              <a *ngIf="b.url && !last" [routerLink]="b.url">{{ b.label }}</a>
              <span *ngIf="!b.url || last">{{ b.label }}</span>
              <span class="sep" *ngIf="!last">›</span>
            </li>
          </ul>
        </nav>
      </ng-container>

      <ng-template #defaultCoursesBtn>
        <button class="dropdown-btn">
          <span>{{ 'CERTIFICATES' | translate }}</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
      </ng-template>
    </div>
  </div>

  <div class="header-center">
    <div class="search-box">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <input type="text" [placeholder]="'SEARCH_PLACEHOLDER' | translate"
        (input)="onSearch($any($event.target).value)" />
    </div>
  </div>

  <div class="header-right">
    <!-- Lang Toggle -->
    <button class="lang-btn" (click)="toggleLang()">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="2" y1="12" x2="22" y2="12"></line>
        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
      </svg>
    </button>

    <button class="notification-btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
      </svg>
    </button>
    <span class="divider" aria-hidden="true">|</span>
    <div class="user-info">
      <div class="user-avatar">
        <img src="https://ui-avatars.com/api/?name=Admin+User&background=e0e7ff&color=3b82f6&size=40" alt="User Avatar">
      </div>
      <div class="user-details">
        <span class="user-name">{{ userName }}</span>
        <span class="user-role">{{ userRole }}</span>
      </div>
    </div>
    <button class="user-menu" aria-label="فتح قائمة المستخدم">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    </button>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-btn" (click)="toggleMobileMenu()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
  </div>
</header>